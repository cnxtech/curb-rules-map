{"version":3,"sources":["webpack:///./src/components/RulesContainer.js","webpack:///./src/pages/index.js"],"names":["SelectTime","props","intervals","times","i","j","length","push","optionItems","map","time","react_default","a","createElement","key","value","className","onChange","handleTimeChange","timeValue","SelectDay","day_num","day_name","day","handleDayChange","dayValue","SelectToggle","option","handleViewChange","checked","checkedValue","name","type","ParkingRateView","style","backgroundColor","ClassView","Rules","rules","RulesContainer","rulesStyles","container","view","onViewChange","onDayChange","onTimeChange","viewcontext","mapboxgl","accessToken","CurbMap","_this","_Component","call","this","state","TimeValue","DayValue","SelectedView","bind","assertThisInitialized_default","componentDidMount","_this2","Map","mapContainer","center","zoom","scaledWidth","width","base","stops","Math","pow","on","geojson","addSource","data","addLayer","id","source","layout","visibility","paint","line-color","line-width","line-offset","line-opacity","filter","setLayoutProperty","e","_this3","preventDefault","setState","target","getSource","setData","_this4","_this5","previousState","render","_this6","Helmet","href","rel","ref","el","position","top","bottom","height","components_RulesContainer","Component"],"mappings":"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","file":"component---src-pages-index-js-d616d79bead1b3bd8fe0.js","sourcesContent":["import React from \"react\"\nimport rulesStyles from \"./RulesContainer.module.css\"\n\n\nfunction SelectTime(props){\n    let intervals = [\"00\", \"30\"];\n    let times = [];\n    for(let i = 0; i < 24; i++){\n      for(let j = 0; j < intervals.length; j++){\n        if(i < 10){\n          times.push(\"0\" + i + \":\" + intervals[j]);\n        } else {\n          times.push(i + \":\" + intervals[j]);\n        }\n      }\n    }\n\n    let optionItems = times.map((time) => <option key={time} value={time}>{time}</option>);\n\n    return(\n      <div className=\"inline-block mr12\">\n        <div className=\"select-container\">\n          <select onChange={props.handleTimeChange} value={props.timeValue} className=\"select select--border-darken10\">\n                {optionItems}\n          </select>\n          <div className=\"select-arrow\"></div>\n        </div>\n      </div>\n    )\n}\n\nfunction SelectDay(props){\n  let day_list = [\n    {\"day_num\":1, \"day_name\":\"Monday\"},\n    {\"day_num\":2, \"day_name\":\"Tuesday\"},\n    {\"day_num\":3, \"day_name\":\"Wednesday\"},\n    {\"day_num\":4, \"day_name\":\"Thursday\"},\n    {\"day_num\":5, \"day_name\":\"Friday\"},\n    {\"day_num\":6, \"day_name\":\"Saturday\"},\n    {\"day_num\":7, \"day_name\":\"Sunday\"}]\n\n  let optionItems = day_list.map((day) => <option key={day.day_num} value={day.day_num}>{day.day_name}</option>);\n\n  return(\n    <div className=\"inline-block mr12\">\n      <div className=\"select-container\">\n        <select onChange={props.handleDayChange} value={props.dayValue} className=\"select select--border-darken10\">\n              {optionItems}\n        </select>\n        <div className=\"select-arrow\"></div>\n      </div>\n    </div>\n  )\n}\n\nfunction SelectToggle(props){\n  let options = [\"Parking Class\", \"Parking Rate\"]\n\n  const renderOptions = (option) => {\n      return (\n        <label key={option} className=\"toggle-container\">\n          <input onChange={props.handleViewChange} checked={props.checkedValue===option} value={option} name=\"toggle\" type=\"radio\" />\n          <div className=\"toggle toggle--active-darken75 toggle--darken25\">{option}</div>\n        </label>\n      );\n    }\n\n  return(\n    <div className=\"left toggle-group mt6 mb12 border border--2 border--white bg-white shadow-darken10\">\n         {options.map(renderOptions)}\n    </div>\n  )\n}\n\nfunction ParkingRateView(){\n   return (\n\n     <div className='w240 mt12 txt-s'>\n      <strong className='block mb6'>Parking Rate</strong>\n      <div className='grid mb6'>\n        <div className='col h12' style={{backgroundColor: \"#6105ff\"}}></div>\n        <div className='col h12' style={{backgroundColor: \"#af3d87\"}}></div>\n        <div className='col h12' style={{backgroundColor: \"#cb525a\"}}></div>\n        <div className='col h12' style={{backgroundColor: \"#e56532\"}}></div>\n        <div className='col h12' style={{backgroundColor: \"#fe770c\"}}></div>\n        <div className='col h12' style={{backgroundColor: \"#ff9807\"}}></div>\n        <div className='col h12' style={{backgroundColor: \"#ffb605\"}}></div>\n        <div className='col h12' style={{backgroundColor: \"#ffd302\"}}></div>\n        <div className='col h12' style={{backgroundColor: \"#ffee00\"}}></div>\n      </div>\n      <div className='grid txt-s'>\n        <div className='col flex-child--grow'>$0/hour</div>\n        <div className='col flex-child--grow align-r'>$5/hour</div>\n      </div>\n    </div>\n\n   )\n }\n\nfunction ClassView(){\n  return (\n    <div>\n      <span className=\"txt-m mt12 block\"><span className='inline-block w12 h12 round-full bg-blue-light'></span>  Passenger Vehicle</span>\n      <span className=\"txt-m block\"><span className='inline-block w12 h12 round-full bg-green'></span>  Loading Zone</span>\n      <span className=\"txt-m block\"><span className='inline-block w12 h12 round-full bg-red'></span>  Taxi Zone</span>\n      <span className=\"txt-m block\"><span className='inline-block w12 h12 round-full bg-yellow'></span>  Calgary Transit Access</span>\n    </div>\n  )\n}\n\nfunction Rules(props){\n  if(props.rules===\"Parking Rate\"){\n    return <ParkingRateView  />\n  }\n  return <ClassView />\n\n}\n\nfunction RulesContainer(props) {\n  return (\n    <div className={rulesStyles.container}>\n      <div className=\"prose\">\n        <h4>On-Street Parking Rules Map</h4>\n        <p className='txt-xs'>Click on the filters below to see parking class type and rates in Calgary</p>\n        <SelectToggle checkedValue={props.view} handleViewChange={props.onViewChange}/>\n        <SelectDay dayValue={props.day} handleDayChange={props.onDayChange}/>\n        <SelectTime timeValue={props.time} handleTimeChange={props.onTimeChange}/>\n\n        <Rules rules={props.viewcontext}/>\n      </div>\n    </div>\n  )\n}\n\nexport default RulesContainer\n","import React, {Component} from \"react\"\nimport { Helmet } from \"react-helmet\"\nimport mapboxgl from 'mapbox-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nimport RulesConatiner from \"../components/RulesContainer\"\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoic2FhZGlxbSIsImEiOiJjamJpMXcxa3AyMG9zMzNyNmdxNDlneGRvIn0.wjlI8r1S_-xxtq2d-W5qPA';\n\nclass CurbMap extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      TimeValue:'10:00',\n      DayValue:1,\n      SelectedView:\"Parking Class\"\n    };\n    this.handleTimeChange = this.handleTimeChange.bind(this);\n    this.handleDayChange = this.handleDayChange.bind(this);\n    this.handleViewChange = this.handleViewChange.bind(this);\n  }\n\n  componentDidMount() {\n\n    this.map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: 'mapbox://styles/saadiqm/cjxbd493m05cc1cl29jntlb1w',\n      center: [-114.0708, 51.0486],\n      zoom:15\n    });\n\n    let scaledWidth = (width) => {return {\n        \"type\": \"exponential\",\n        \"base\": 2,\n        \"stops\": [\n            [10, width * Math.pow(2, (10 - 16))],\n            [16, width * Math.pow(2, (16 - 16))]\n        ]\n    }};\n\n    this.map.on('load', () => {\n\n      let geojson = 'https://pg7x2ae618.execute-api.us-west-2.amazonaws.com/dev/parking/rules?start='+this.state.TimeValue+'&day='+this.state.DayValue\n\n      this.map.addSource('Curbs', {\n        type: 'geojson',\n        data: geojson\n      });\n\n      this.map.addLayer({\n          \"id\": \"Parking Class Right\",\n          \"type\": \"line\",\n          \"source\": \"Curbs\",\n          \"layout\":{\n            \"visibility\":'none'\n          },\n          \"paint\": {\n            \"line-color\": ['match', ['get', 'class',['get','who',['get','restrictions']]],\n                     'Passenger Vehicle', '#4286f4',\n                     'Taxi', 'red',\n                     'Loading','yellow',\n                     'Calgary Transit Access','orange',\n                     'yellow'] ,\n            \"line-width\": scaledWidth(12),\n            \"line-offset\": scaledWidth(15),\n            \"line-opacity\": 0.7\n          },\n          filter:[\"all\",[\"match\",['get',\"side\"],\"right\",true,false],[\"match\",['get','activity',['get','what',['get','restrictions']]],\"park\", true,false]]\n        });\n\n      this.map.addLayer({\n        \"id\": \"Parking Class Left\",\n        \"type\": \"line\",\n        \"source\": \"Curbs\",\n        \"layout\":{\n          \"visibility\":\"none\"\n        },\n        \"paint\": {\n          \"line-color\": ['match', ['get', 'class',['get','who',['get','restrictions']]],\n                   'Passenger Vehicle', '#4286f4',\n                   'Taxi', 'red',\n                   'Loading','green',\n                   'Calgary Transit Access','orange',\n                   'yellow'],\n          \"line-width\": scaledWidth(12),\n          \"line-offset\": scaledWidth(-15),\n          \"line-opacity\": 0.7\n        },\n        filter:[\"all\",[\"match\",['get',\"side\"],\"left\",true,false],[\"match\",['get','activity',['get','what',['get','restrictions']]],\"park\", true,false]]\n      });\n\n      this.map.addLayer({\n          \"id\": \"Parking Rate Right\",\n          \"type\": \"line\",\n          \"source\": \"Curbs\",\n          \"layout\":{\n            \"visibility\":\"none\"\n          },\n          \"paint\": {\n            \"line-color\": [\"interpolate\",\n                [\"linear\"],\n                ['*',['/',['get', 'rate',['get','payment',['get','restrictions']]] , ['number', ['get', 'interval',['get','payment',['get','restrictions']]], 1]],60],\n                0,'#6105ff',\n                3,'#ff780a',\n                4.5,'#ffee00',\n            ],\n            \"line-width\": scaledWidth(12),\n            \"line-offset\": scaledWidth(15),\n            \"line-opacity\": 0.7\n          },\n          filter:[\"all\",[\"match\", ['get',\"side\"],\"right\",true,false],[\"match\",['get', 'activity',['get','what',['get','restrictions']]],\"park\",true,false],[\"match\",['get','class',['get','who',['get','restrictions']]],\"Passenger Vehicle\", true,false]]\n        });\n\n        this.map.addLayer({\n            \"id\": \"Parking Rate Left\",\n            \"type\": \"line\",\n            \"source\": \"Curbs\",\n            \"layout\":{\n              \"visibility\":\"none\"\n            },\n            \"paint\": {\n              \"line-color\": [\"interpolate\",\n                  [\"linear\"],\n                  ['*',['/',['get', 'rate',['get','payment',['get','restrictions']]] , ['number', ['get', 'interval',['get','payment',['get','restrictions']]], 1]],60],\n                  0,'#6105ff',\n                  3,'#ff780a',\n                  4.5,'#ffee00',\n              ],\n              \"line-width\": scaledWidth(12),\n              \"line-offset\": scaledWidth(-15),\n              \"line-opacity\": 0.7\n            },\n            filter:[\"all\",[\"match\", ['get',\"side\"],\"left\",true,false],[\"match\",['get', 'activity',['get','what',['get','restrictions']]],\"park\", true,false],[\"match\",['get','class',['get','who',['get','restrictions']]],\"Passenger Vehicle\", true,false]]\n          });\n\n        this.map.setLayoutProperty(this.state.SelectedView+\" Right\", 'visibility', 'visible');\n        this.map.setLayoutProperty(this.state.SelectedView+\" Left\", 'visibility', 'visible');\n    });\n  }\n\n  handleTimeChange(e) {\n    e.preventDefault();\n    this.setState({TimeValue:e.target.value}, () => {\n      let geojson = 'https://pg7x2ae618.execute-api.us-west-2.amazonaws.com/dev/parking/rules?start='+this.state.TimeValue+'&day='+this.state.DayValue\n      this.map.getSource('Curbs').setData(geojson)\n    });\n  }\n\n  handleDayChange(e) {\n    e.preventDefault();\n    this.setState({DayValue:e.target.value}, () => {\n      let geojson = 'https://pg7x2ae618.execute-api.us-west-2.amazonaws.com/dev/parking/rules?start='+this.state.TimeValue+'&day='+this.state.DayValue\n      this.map.getSource('Curbs').setData(geojson)\n    });\n  }\n\n  handleViewChange(e) {\n    let previousState = this.state.SelectedView\n    this.setState({SelectedView:e.target.value}, () => {\n      this.map.setLayoutProperty(this.state.SelectedView+\" Right\", 'visibility', 'visible');\n      this.map.setLayoutProperty(this.state.SelectedView+\" Left\", 'visibility', 'visible');\n      this.map.setLayoutProperty(previousState+\" Right\", 'visibility', 'none');\n      this.map.setLayoutProperty(previousState+\" Left\", 'visibility', 'none');\n    });\n  }\n\n  render(){\n\n    return(\n      <div>\n        <Helmet>\n          <link href=\"https://api.mapbox.com/mapbox-assembly/v0.23.2/assembly.min.css\" rel=\"stylesheet\"/>\n        </Helmet>\n\n       <div ref={el => this.mapContainer = el} style={{position: 'absolute',top: 0, bottom: 0, width: '100%',height: '100%'}}/>\n       <RulesConatiner\n         time={this.state.TimeValue}\n         onTimeChange={this.handleTimeChange}\n         day={this.state.DayValue}\n         onDayChange={this.handleDayChange}\n         view={this.state.SelectedView}\n         onViewChange={this.handleViewChange}\n         viewcontext={this.state.SelectedView}\n       />\n      </div>\n    );\n  }\n}\n\nexport default CurbMap\n"],"sourceRoot":""}