(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{155:function(e,a,t){"use strict";t.r(a);var n=t(40),l=t.n(n),i=t(8),r=t.n(i),s=t(0),c=t.n(s),o=t(157),m=t(163),d=t.n(m),u=(t(164),t(165)),g=t.n(u);function h(e){for(var a=["00","30"],t=[],n=0;n<24;n++)for(var l=0;l<a.length;l++)n<10?t.push("0"+n+":"+a[l]):t.push(n+":"+a[l]);var i=t.map(function(e){return c.a.createElement("option",{key:e,value:e},e)});return c.a.createElement("div",{className:"inline-block mr12"},c.a.createElement("div",{className:"select-container"},c.a.createElement("select",{onChange:e.handleTimeChange,value:e.timeValue,className:"select select--border-darken10"},i),c.a.createElement("div",{className:"select-arrow"})))}function y(e){var a=[{day_num:1,day_name:"Monday"},{day_num:2,day_name:"Tuesday"},{day_num:3,day_name:"Wednesday"},{day_num:4,day_name:"Thursday"},{day_num:5,day_name:"Friday"},{day_num:6,day_name:"Saturday"},{day_num:7,day_name:"Sunday"}].map(function(e){return c.a.createElement("option",{key:e.day_num,value:e.day_num},e.day_name)});return c.a.createElement("div",{className:"inline-block mr12"},c.a.createElement("div",{className:"select-container"},c.a.createElement("select",{onChange:e.handleDayChange,value:e.dayValue,className:"select select--border-darken10"},a),c.a.createElement("div",{className:"select-arrow"})))}function p(e){return c.a.createElement("div",{className:"left toggle-group mt6 mb12 border border--2 border--white bg-white shadow-darken10"},["Parking Class","Parking Rate"].map(function(a){return c.a.createElement("label",{key:a,className:"toggle-container"},c.a.createElement("input",{onChange:e.handleViewChange,checked:e.checkedValue===a,value:a,name:"toggle",type:"radio"}),c.a.createElement("div",{className:"toggle toggle--active-darken75 toggle--darken25"},a))}))}function v(){return c.a.createElement("div",{className:"w240 mt12 txt-s"},c.a.createElement("strong",{className:"block mb6"},"Parking Rate"),c.a.createElement("div",{className:"grid mb6"},c.a.createElement("div",{className:"col h12",style:{backgroundColor:"#6105ff"}}),c.a.createElement("div",{className:"col h12",style:{backgroundColor:"#af3d87"}}),c.a.createElement("div",{className:"col h12",style:{backgroundColor:"#cb525a"}}),c.a.createElement("div",{className:"col h12",style:{backgroundColor:"#e56532"}}),c.a.createElement("div",{className:"col h12",style:{backgroundColor:"#fe770c"}}),c.a.createElement("div",{className:"col h12",style:{backgroundColor:"#ff9807"}}),c.a.createElement("div",{className:"col h12",style:{backgroundColor:"#ffb605"}}),c.a.createElement("div",{className:"col h12",style:{backgroundColor:"#ffd302"}}),c.a.createElement("div",{className:"col h12",style:{backgroundColor:"#ffee00"}})),c.a.createElement("div",{className:"grid txt-s"},c.a.createElement("div",{className:"col flex-child--grow"},"$0/hour"),c.a.createElement("div",{className:"col flex-child--grow align-r"},"$5/hour")))}function f(){return c.a.createElement("div",null,c.a.createElement("span",{className:"txt-m mt12 block"},c.a.createElement("span",{className:"inline-block w12 h12 round-full bg-blue-light"}),"  Passenger Vehicle"),c.a.createElement("span",{className:"txt-m block"},c.a.createElement("span",{className:"inline-block w12 h12 round-full bg-green"}),"  Loading Zone"),c.a.createElement("span",{className:"txt-m block"},c.a.createElement("span",{className:"inline-block w12 h12 round-full bg-red"}),"  Taxi Zone"),c.a.createElement("span",{className:"txt-m block"},c.a.createElement("span",{className:"inline-block w12 h12 round-full bg-yellow"}),"  Calgary Transit Access"))}function b(e){return"Parking Rate"===e.rules?c.a.createElement(v,null):c.a.createElement(f,null)}var w=function(e){return c.a.createElement("div",{className:g.a.container},c.a.createElement("div",{className:"prose"},c.a.createElement("h4",null,"On-Street Parking Rules Map"),c.a.createElement("p",{className:"txt-xs"},"Click on the filters below to see parking class type and rates in Calgary"),c.a.createElement(p,{checkedValue:e.view,handleViewChange:e.onViewChange}),c.a.createElement(y,{dayValue:e.day,handleDayChange:e.onDayChange}),c.a.createElement(h,{timeValue:e.time,handleTimeChange:e.onTimeChange}),c.a.createElement(b,{rules:e.viewcontext})))};d.a.accessToken="pk.eyJ1Ijoic2FhZGlxbSIsImEiOiJjamJpMXcxa3AyMG9zMzNyNmdxNDlneGRvIn0.wjlI8r1S_-xxtq2d-W5qPA";var k=function(e){function a(a){var t;return(t=e.call(this,a)||this).state={TimeValue:"10:00",DayValue:1,SelectedView:"Parking Rate"},t.handleTimeChange=t.handleTimeChange.bind(l()(t)),t.handleDayChange=t.handleDayChange.bind(l()(t)),t.handleViewChange=t.handleViewChange.bind(l()(t)),t}r()(a,e);var t=a.prototype;return t.componentDidMount=function(){var e=this;this.map=new d.a.Map({container:this.mapContainer,style:"mapbox://styles/saadiqm/cjbjougmt08z72rsa7me1duoi",center:[-114.0708,51.0486],zoom:15});var a=function(e){return{type:"exponential",base:2,stops:[[10,e*Math.pow(2,-6)],[16,e*Math.pow(2,0)]]}};this.map.on("load",function(){var t="https://pg7x2ae618.execute-api.us-west-2.amazonaws.com/dev/parking/rules?start="+e.state.TimeValue+"&day="+e.state.DayValue;e.map.addSource("Curbs",{type:"geojson",data:t}),e.map.addLayer({id:"Parking Class Right",type:"line",source:"Curbs",layout:{visibility:"none"},paint:{"line-color":["match",["get","class",["get","who",["get","restrictions"]]],"Passenger Vehicle","#4286f4","Taxi","red","Loading","yellow","Calgary Transit Access","orange","yellow"],"line-width":a(12),"line-offset":a(15),"line-opacity":.7},filter:["all",["match",["get","side"],"right",!0,!1],["match",["get","activity",["get","what",["get","restrictions"]]],"park",!0,!1]]}),e.map.addLayer({id:"Parking Class Left",type:"line",source:"Curbs",layout:{visibility:"none"},paint:{"line-color":["match",["get","class",["get","who",["get","restrictions"]]],"Passenger Vehicle","#4286f4","Taxi","red","Loading","green","Calgary Transit Access","orange","yellow"],"line-width":a(12),"line-offset":a(-15),"line-opacity":.7},filter:["all",["match",["get","side"],"left",!0,!1],["match",["get","activity",["get","what",["get","restrictions"]]],"park",!0,!1]]}),e.map.addLayer({id:"Parking Rate Right",type:"line",source:"Curbs",layout:{visibility:"none"},paint:{"line-color":["interpolate",["linear"],["*",["/",["get","rate",["get","payment",["get","restrictions"]]],["number",["get","interval",["get","payment",["get","restrictions"]]],1]],60],0,"#6105ff",3,"#ff780a",4.5,"#ffee00"],"line-width":a(12),"line-offset":a(15),"line-opacity":.7},filter:["all",["match",["get","side"],"right",!0,!1],["match",["get","activity",["get","what",["get","restrictions"]]],"park",!0,!1],["match",["get","class",["get","who",["get","restrictions"]]],"Passenger Vehicle",!0,!1]]}),e.map.addLayer({id:"Parking Rate Left",type:"line",source:"Curbs",layout:{visibility:"none"},paint:{"line-color":["interpolate",["linear"],["*",["/",["get","rate",["get","payment",["get","restrictions"]]],["number",["get","interval",["get","payment",["get","restrictions"]]],1]],60],0,"#6105ff",3,"#ff780a",4.5,"#ffee00"],"line-width":a(12),"line-offset":a(-15),"line-opacity":.7},filter:["all",["match",["get","side"],"left",!0,!1],["match",["get","activity",["get","what",["get","restrictions"]]],"park",!0,!1],["match",["get","class",["get","who",["get","restrictions"]]],"Passenger Vehicle",!0,!1]]}),e.map.setLayoutProperty(e.state.SelectedView+" Right","visibility","visible"),e.map.setLayoutProperty(e.state.SelectedView+" Left","visibility","visible")})},t.handleTimeChange=function(e){var a=this;e.preventDefault(),this.setState({TimeValue:e.target.value},function(){var e="https://pg7x2ae618.execute-api.us-west-2.amazonaws.com/dev/parking/rules?start="+a.state.TimeValue+"&day="+a.state.DayValue;a.map.getSource("Curbs").setData(e)})},t.handleDayChange=function(e){var a=this;e.preventDefault(),this.setState({DayValue:e.target.value},function(){var e="https://pg7x2ae618.execute-api.us-west-2.amazonaws.com/dev/parking/rules?start="+a.state.TimeValue+"&day="+a.state.DayValue;a.map.getSource("Curbs").setData(e)})},t.handleViewChange=function(e){var a=this,t=this.state.SelectedView;this.setState({SelectedView:e.target.value},function(){a.map.setLayoutProperty(a.state.SelectedView+" Right","visibility","visible"),a.map.setLayoutProperty(a.state.SelectedView+" Left","visibility","visible"),a.map.setLayoutProperty(t+" Right","visibility","none"),a.map.setLayoutProperty(t+" Left","visibility","none")})},t.render=function(){var e=this;return c.a.createElement("div",null,c.a.createElement(o.Helmet,null,c.a.createElement("link",{href:"https://api.mapbox.com/mapbox-assembly/v0.23.2/assembly.min.css",rel:"stylesheet"})),c.a.createElement("div",{ref:function(a){return e.mapContainer=a},style:{position:"absolute",top:0,bottom:0,width:"100%",height:"100%"}}),c.a.createElement(w,{time:this.state.TimeValue,onTimeChange:this.handleTimeChange,day:this.state.DayValue,onDayChange:this.handleDayChange,view:this.state.SelectedView,onViewChange:this.handleViewChange,viewcontext:this.state.SelectedView}))},a}(s.Component);a.default=k}}]);
//# sourceMappingURL=component---src-pages-index-js-13d025f99e598c07182e.js.map